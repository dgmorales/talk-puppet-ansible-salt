<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Maturidade, Simplicidade, Flexibilidade: comparando Puppet, Ansible, e Salt</title>

		<meta name="description" content="Uma apresentação e comparação de Puppet, Ansible e Salt">
		<meta name="author" content="Diego Morales">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
				<h1>Puppet, Ansible, Salt</h1>
				<h4>Maturidade, Simplicidade e Flexibilidade</h4>
				<br/>
					<p>Diego Morales</p>
					<p>
						<small>
						&nbsp;
						<img src="images/mail3.png" border="0" style="border:none;vertical-align:middle;" />
						<a href="mailto:dgmorales@gmail.com" style="vertical-align:middle;">dgmorales@gmail.com</a>
						&nbsp;
						<img src="images/twitter-bird-white-on-blue.png" height="24" width="24" border="0" style="border:none;vertical-align:middle;" /> 
						<a href="http://twitter.com/dgmorales" style="vertical-align:middle;">@dgmorales</a> 
						</small>
					</p>
					<aside class="notes">
					<p>
					Boa noite, galera. Meu nome é Diego Morales. Eu sou um
					sysadmin já há muitos anos, mais de 15, apesar dessa
					minha cara de guri... Trabalho em uma empresa chamada
					Propus, que presta serviços de infraestrutura de TI e
					de BigData e NoSQL.

					Eu estava n último encontro DevOps lá na Cinelândia, e
					se comentou lá sobre um interesse de termos palestras
					comparando algumas das muitas ferramentas desse mundo
					DevOps.

					Eu depois conversei com o Stefan e o Luiz, propondo
					essa palestra aqui. Eu já uso bastante puppet há alguns
					anos, tenho usado cada vez mais ansible, e também já
					investiguei muito o salt, para avaliar o que era melhor
					para o meu ambiente.

					Mas eu não me considero expert em nenhuma delas, talvez
					nem no Puppet até, e eu acho que um potencial
					interessante que a gente tem aqui é vocês trazerem
					também a experiência e a visão de vocês, apesar do
					nosso tempo que pode ficar apertado ...

					Então, para termos uma noção.... quem aí usa:

					Puppet?
					Ansible?
					Salt?
					
					</p>
					</aside>
				</section>


				<section>
				<h2>O que vem por aí</h2>
				<br/>
				<ol>
						<li>Quem são, e o cenário geral de <i>configuration management</i>.</li>
						<li>Arquitetura básica de cada um</li>
						<li>Pagando ...</li>
						<li>... e não pagando</li>
						<li>Show me the code</li>
						<li>Comunidade e Documentação</li>
				</ol>
				<br/>
				<br/>
				<p>Online: <a href="http://dgmorales.info/cfgmgmt">http://dgmorales.info/cfgmgmt-pas</a></>
				<aside class="notes">
				<p>
					A proposta aqui não é fácil. São 3 ferramentas
					poderosas, cada uma certamente precisa de uma palestra
					inteira ou mais para ser devidamente apresentada, então
					eu tive que escolher e limitar os assuntos para dar
					tempo.

					Então vamos fazer assim: eu vou direto ao ponto, o
					ritmo vai ser um pouco acelerado, mas vocês fiquem 100%
					à vontade de interromper para perguntar ou acrescentar
					algo, e eu vou ficar 100% à vontade de dizer "vamos
					guardar isso para o final, se der tempo?"

					blz? Vambora então
				</p>
			</aside>
		</section>

		<section>
			<h2>Config Management</h2>
			&nbsp; &nbsp;
			<a href="http://www.puppetlabs.com/"><img src="images/puppet-labs.png"/ width="280" style="border:0;"></a>
			&nbsp; &nbsp;
			<a href="http://www.ansibleworks.com/"><img src="images/ansible.png"/ width="200" style="border:0;"></a>
			&nbsp; &nbsp;
			<a href="http://saltstack.com/"><img src="images/SaltStack.png"/ width="320" style="border:0;"></a>
			<br/>
			<br/>
			<a href="http://www.opscode.com/chef"><img src="images/logo-chef.png" width="150" style="border:0;"/></a>
			&nbsp; &nbsp;
			<a href="http://www.cfengine.com"><img src="images/logo-cfengine.png"
				width="280" style="border:0;"/></a>
			<aside class="notes">

			<p>
			Bom, acho que todo mundo aqui sabe do que essas ferramentas
			tratam. São ferramentas de gerência de configuração,
			infraestrutura como código: elas me permitem descrever em
			código a configuração dos meus servidores, da minha nuvem, e me
			dá vários meios de aplicá-las. E assim eu posso versionar esse
			código, testar, documentar, etc.

			E aí vem uma questão bem básica: elas são concorrentes ou
			complementares?

			Há controvérsias. O puppet e o ansible, por exemplo, são
			frequentemente considerados complementares, e certamente podem
			ser usados dessa forma. O Guto Carvalho e o Miguel da Instruct,
			por exemplo, que são as principais referências de puppet no
			brasil, consideram que eles praticamente não tem nada a ver um
			com o outro.

			Eu respeitosamente discordo. Os diferentes focos e abordagens
			de configuration managemente formam um espectro, puppet e
			ansible nos extremos, salt buscando tudo. Todos eles me parecem
			eventualmente querer alcançar tudo, invadindo aos poucos os
			espaços dominados por outros. Isso vai ficar mais claro ao
			longo do nosso papo.</p>

			<p>
			Os principais players desse mercado são esses 4: Puppet,
			Ansible, Salt e Chef. Com uma menção honrosa para o cfengine,
			que é o pai de todos, muito mais antigo, mais complexo, e ainda
			é utilizado em ambientes gigantes e extremamente complexos.

			E o Chef? Quando eu comecei isso, resolvi tirar ele dos meus
			estudos. Na minha análise um pouco superficial, ele é
			razoavelmente parecido com o Puppet, mas um pouco mais
			complexo, na arquitetura, nos componentes, e é um tanto
			atrelado ao ruby ...
			</p>/

			</aside>
		</section>

		<section>
		<h3>Em uma palavra ...</h3>
		<br/>
		<p>Puppet: &nbsp; <b>Maturidade</b></p>
		<p>Ansible: &nbsp; <b>Simplicidade</b></p>
		<p>Salt: &nbsp; <b>Flexibilidade</b></p>
		<aside class="notes">
		</aside>
		</section>

		<section>
			<section>
				<h2>Puppet & PuppetLabs</h2>
				<br/>
				<p>Criado em 2005, por um sysadmin, Luke Kanies.</p>
				<div style="vertical-align:middle;">
				<img src="images/puppet-users/github_color.png"/ style="border:0;">
				<img src="images/puppet-users/nasa_color.png"/ style="border:0;">
				<img src="images/puppet-users/spotifty_color.png"/ style="border:0;">
				<img src="images/puppet-users/nestle_color.png"/ style="border:0;">
				<img src="images/puppet-users/newrelic_color_0.png"/ style="border:0;">
				<img src="images/puppet-users/vmware.png"/ style="border:0;">
				<br/>
				<small><a href="https://puppetlabs.com/about/customers" >... a lista é grande ...</a></small>
				</div> 

				<aside class="notes">
				Vamos apresentar um básico, mas vamos passar rápido isso aqui.
					O Puppet foi criado...

				</aside>
			</section>

			<section>
				<img src="images/puppet-architecture.svg"/ style="border:0;">
				<aside class="notes">

				Fazer novo diagrama
					<li>PuppetDB</li>
					<li>Mcollective</li>
				</aside>
			</section>

			<section>
				<h3>Puppet (2)</h3>
				<br/>
				<ul>
					<li>Master (<b>pull</b>) e Masterless (<i>pull rodando local</i>).</li>
					<li>Novo Puppet Server</li>
					<li>DSL + templates ERB (ruby)</li>
					<li>Feito em ruby / clojure / java ... DSL torna isso geralmente irrelevante.</li>
					<li>Segurança e auth: certificados SSL</li>
				</ul>
				<aside class="notes">
					<li>Citar meu bacalhau medonho? (pulshppet)</li>
					<li>Mcollective para orquestração.</li>
				</aside>
			</section>

			<section>
				<h3>Puppet (3): Enterprise</h3>
				<br/>
				<ul>
					<li>Novo Orchestrator</li>
				</ul>
				<aside class="notes">
					Um dos pontos a favor da maturidade.
				</aside>
			</section>

			<section>
				<h3>Puppet (4): Dashboards livres</h3>
				<br/>
				<ul>
					<li><a href="https://github.com/spotify/puppetexplorer">Puppet Explorer (Spotify)</a></li>
					<li><a href="https://github.com/voxpupuli/puppetboard">Puppetboard</a></li>
					<li><a href="https://github.com/sodabrew/puppet-dashboard">(Legado) Puppet Dashboard</a></li>
					<li><a href="http://theforeman.org/">Foreman</a></li>
					<li><a href="https://github.com/gutocarvalho/pcp">Puppet Community Platform (PCP)</a></li>
				</ul>
				<aside class="notes">
					<p>Puppet Explorer: meu atual favorito.</p>
					<p>Puppet Dashboard é mais velho. Abandonado? Há dúvidas...</p>
					<p>Foreman: ainda não suporta o Puppet 4. Projeto maior, mais abrangente.</p>
					<p>PCP do Guto Carvalho e Miguel Di Ciurcio Filho da Instruct. Inclui Server, PuppetDB, Explorer e Mcollective.</p>

					Imagens? Mostrar rodando (ao menos o explorer)
				</aside>
			</section>
		</section>

		<section>

			<section>
			<h2>Ansible (==> RedHat)</h2>
			<aside class="notes">
			</aside>
			</section>

			<section>
				<ul>
					<li>Push com SSH (Simplicidade!). Pull rodando local.</li>
					<li>Orquestração em várias máquinas. Strategies?</li>
        				<li>YAML + templates jinja2</li>
        				<li>Python</li>
        				<li>Auth/Crypto: by SSH</li>
				</ul>
			</section>

			<section>
				<h3>Ansible Tower</h3>
				<ul>
				</ul>
			</section>

			<section>
				<h3>Outros projetos open source?</h3>
				<ul>
        				<li>Usar o Rundeck como frontend.</li>
				</ul>
			</section>

		</section>

		<section>

			<section>
			<h2>SaltStack</h2>
			<aside class="notes">
			</aside>
			</section>

			<section>
				<ul>
        				<li>Push com SSH. Push/Pull com ZeroMQ , Pull rodando local. (Flexibilidade!)</li>
        				<li>Python</li>
        				<li>YAML + templates jinja2, porém o próprio YAML pode ser "templated"</li>
        				<li>Auth/Crypto: ZeroMQ crypto?, e by SSH</li>
				</ul>
			<aside class="notes">
				Falar da Performance deles ....
			</aside>
			</section>

			<section>
				<h3>SaltStack Enterprise</h3>
				<ul>
				</ul>
			</section>

			<section>
				<h3>Saltweb</h3>
				<ul>
				</ul>
			</section>
		</section>


		<section>
			<section>
			<h2>Show me the code!</h2>
			<p>Package, File, Service.</p>
			<aside class="notes">

			Puppet: DSL, módulos, classes, manifestos, hiera, ENC, roles and profiles (?). Muitos avanços no Puppet 4 (loops, etc)

			Ansible: Inventário (dinâmicos tb), YAML, roles, variáveis de grupos e hosts
			
			Salt: Pillars and ?, States e etc.
			</aside>
			</section>

			<section>
			<h3>Puppet</h3>
			<aside class="notes">
			</aside>
			</section>

			<section>
			<h3>Ansible</h3>
			<aside class="notes">
			</aside>
			</section>

			<section>
			<h3>Salt</h3>
			<aside class="notes">
			</aside>
			</section>

			<section>
			<h2>Loops</h2>
			<aside class="notes">
			</aside>
			</section>

			<section>
			<h3>Puppet</h3>
			<aside class="notes">
			</aside>
			</section>

			<section>
			<h3>Ansible</h3>
			<aside class="notes">
			</aside>
			</section>

			<section>
			<h3>Salt</h3>
			<aside class="notes">
			</aside>
			</section>
		</section>

		<section>
			<h3>Comunidade</h3>
			<br/>
			<p>Puppet: &nbsp; Forge, grupo no telegram, meetups não muito bem sucedidos</p>
			<p>Ansible: &nbsp; Galaxy, algum grupo?</p>
			<p>Salt: &nbsp; ...., algo no brasil?</p>
			<aside class="notes">
				Figuras?
    				Salt e Ansible são mais batteries included
    				Lista de módulos incluídos Salt e Ansible.
    				Receptividade de fixes das comunidades?
			</aside>
		</section>

		<section>
			<h3>Documentação</h3>
			<br/>
			<p>Puppet: &nbsp; Excelente, madura e completa + Learning VM</p>
			<p>Ansible: &nbsp; Muito simples, mas não tão boa em referência </p>
			<p>Salt: &nbsp; confusa pacas, começando a melhorar</p>
			<aside class="notes">
				Figuras?
			</aside>
		</section>

		<section>
			<h3>Chegando ao fim ...</h3>

			<li>Voltando: maturidade, flexibilidade, simplicidade.</li>
			<li>Perae, e o Docker nisso tudo?</li>
			<li>Meus testes e post no meu blog</li>
			<li>Faltou muita coisa. Followup da palestra?</li>

			<aside class="notes">
			</aside>
		</section>
		<section>
			<h3>Uma notinha sobre DevOps</h3>

			<li>Grupos no telegram, e slack(?)</li>
			<li>Planet DevOps</li>
			<li>...</li>

			<aside class="notes">
			</aside>
		</section>

		<section>
			<h2>Por hoje é só pessoal!</h2>
			<br/>
			<h3>Contato</h3>
			<br/>
			<p>
			Diego Morales 
			<br/>
			<small>
			<img src="images/mail3.png" border="0" style="border:none;vertical-align:middle;" />
			<a href="mailto:morales@propus.com.br" style="vertical-align:middle;">morales@propus.com.br</a> 
			&nbsp;
			<img src="images/twitter-bird-white-on-blue.png" height="24" width="24" border="0" style="border:none;vertical-align:middle;" /> 
			<a href="http://twitter.com/dgmorales" style="vertical-align:middle;">@dgmorales</a> 
			</small>
			</p>
			<br/>
			<p>Slides: &nbsp; <a href="http://dgmorales.info/sysadmin">http://dgmorales.info/sysadmin</a></p>
			<p>
			Blog: <i>Do, Automate, Repeat</i> &nbsp; <a
				href="http://doauto.wordpress.com">http://doauto.wordpress.com</a>
			</p>
			<br/>
		</section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
